AC_INIT(gconf/gconf.h)

AM_CONFIG_HEADER(config.h)

AM_INIT_AUTOMAKE(GConf, 0.1)

AM_MAINTAINER_MODE

AC_PROG_CC
AC_ISC_POSIX
AC_HEADER_STDC
AC_ARG_PROGRAM
AM_PROG_LIBTOOL

AM_PATH_GLIB(1.2.0)
GMODULE_CFLAGS=`glib-config --cflags gmodule`
AC_SUBST(GMODULE_CFLAGS)
GMODULE_LIBS=`glib-config --libs gmodule`
AC_SUBST(GMODULE_LIBS)

AC_CHECK_LIB(xml, xmlNewDoc, XML_LIBS='-lxml -lz',AC_MSG_ERROR(Could not find libxml),-lz)   
AC_SUBST(XML_LIBS)

ORBIT_LIBS=`orbit-config --libs server`
ORBIT_CFLAGS=`orbit-config --cflags server`
AC_SUBST(ORBIT_LIBS)
AC_SUBST(ORBIT_CFLAGS)

ALL_LINGUAS=""
AM_GNU_GETTEXT

CFLAGS="$CFLAGS -Wall"

AC_SUBST(CFLAGS)
AC_SUBST(CPPFLAGS)
AC_SUBST(LDFLAGS)

AC_OUTPUT([
Makefile
gconf/Makefile
backends/Makefile
intl/Makefile
po/Makefile.in
])


